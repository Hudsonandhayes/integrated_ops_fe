(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b98415e"],{2866:function(e,s,t){"use strict";(function(e){t("ac6a"),t("7f7f");var a=t("d225"),r=t("b0b4"),o=t("bd86"),c=t("bb36"),n=function(){function s(){var e;Object(a["a"])(this,s),Object(o["a"])(this,"process",(e={id:-1,description:"",inputs:"",outputs:""},Object(o["a"])(e,"description",""),Object(o["a"])(e,"process_inputs",""),Object(o["a"])(e,"process_outputs",""),Object(o["a"])(e,"status",1),e))}return Object(r["a"])(s,[{key:"get_all_processes",value:function(){return c["a"].get("/processes/all")}},{key:"get_processes",value:function(){return c["a"].get("/processes")}},{key:"create_process",value:function(e,s,t){try{var a=new FormData;t&&void 0!==t&&(a.append("document_link",t),console.log("document file found!")),a.append("name",s.name),a.append("description",s.description),a.append("frequency_id",s.frequency_id),a.append("unit_measure_id",s.unit_measure_id),a.append("average_volume",s.average_volume),a.append("parent_process_id",s.parent_process_id),a.append("process_inputs",s.process_inputs),a.append("process_outputs",s.process_outputs),a.append("department_ids",s.department_ids);var r=s.status&&"false"!==s.status?1:0;return a.append("status",r),c["a"].post("/client-process-tree/".concat(e),a)}catch(o){return!1}}},{key:"create_master_process",value:function(e){return console.log(e),c["a"].post("/process",e)}},{key:"import_client_processes",value:function(e,s){try{var t=new FormData;return s&&void 0!==s&&(t.append("csv_file",s),console.log("document file found!")),c["a"].post("/client/".concat(e,"/processes/upload"),t)}catch(a){return!1}}},{key:"update_master_process",value:function(e,s){return c["a"].post("/process/".concat(e),s)}},{key:"update_client_process",value:function(e,s,t){try{var a=new FormData;t&&void 0!==t&&(a.append("document_link",t),console.log("document file found!")),a.append("name",s.name),a.append("description",s.description),a.append("frequency_id",s.frequency_id),a.append("unit_measure_id",s.unit_measure_id),a.append("average_volume",s.average_volume),a.append("parent_process_id",s.parent_process_id),a.append("process_inputs",s.process_inputs),a.append("process_outputs",s.process_outputs),a.append("department_ids",s.department_ids);var r=s.status&&"false"!==s.status?1:0;return a.append("status",r),c["a"].post("/client-process/".concat(e),a)}catch(o){return!1}}},{key:"add_process_segmentation",value:function(e,s){return c["a"].post("/process/".concat(e,"/segmentation"),s)}},{key:"get_processes_list",value:function(){return processes=[],processes[-1]="N/A",processes[1]="Source to contract",processes[2]="Procure to invoice",processes[3]="Invoice to pay",processes[4]="Spend-category strategy",processes[5]="Vendor selection and negotiation",processes[6]="Vendor management",processes[7]="Analyze & plan needs",processes[8]="Analyze supply market",processes[9]="Execute tender and select supplier",processes[10]="Manage contract and relationship",processes[11]="Master data management",processes[12]="Manage demand for purchases",processes[13]="Analyze & plan needs",processes[14]="Analyze supply market",processes[15]="Execute tender and select supplier",processes[16]="Award contract",processes[17]="Manage contract and relationship",processes[18]="Category wise need identification",processes[19]="Market research",processes[20]="Request for quote",processes[21]="Request for proposal",processes[22]="Supplier assessment",processes[23]="E-auction",e}},{key:"find_tree_item",value:function(e){var s=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=this.items),t.reduce((function(t,a){return t||(a.id===e?a:a.children?s.find_tree_item(e,a.children):t)}),null)}},{key:"update_tree_level",value:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;s||(s=s),s.level=t;var a=1+parseInt(t);return s.children&&s.children.forEach((function(s){return e.update_tree_level(s,a)})),s}}]),s}();s["a"]=new n}).call(this,t("f28c"))},"95e8":function(e,s,t){},cb64:function(e,s,t){"use strict";t("95e8")},dd5d:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("vs-breadcrumb",{staticClass:"ml-4",attrs:{items:e.breadcrumbs}}),t("vx-card",{attrs:{title:"Process Master List"}},[t("template",{slot:"actions"},[t("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:e.create_process}},[e._v("Create Process")])],1),t("div",{staticClass:"mx-2",attrs:{slot:"no-body"},slot:"no-body"},[t("vs-table",{staticClass:"table-dark-inverted table-auto vs-con-loading__container",attrs:{search:"","max-items":"10",pagination:"",data:e.processes,stripe:""},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.data;return e._l(a,(function(s,a){return t("vs-tr",{key:a,staticClass:"cursor-pointer",nativeOn:{click:function(t){return e.update_process(s,a)}}},[t("vs-td",{attrs:{data:s.name}},[e._v(e._s(s.name))]),t("vs-td",{attrs:{data:s.description}},[e._v(e._s(s.description))]),t("vs-td",{attrs:{data:s.status}},[0===s.status||!1===s.status?t("vs-chip",{attrs:{transparent:"",color:"warning"}},[e._v("disabled")]):e._e(),1===s.status||!0===s.status?t("vs-chip",{attrs:{transparent:"",color:"primary"}},[e._v("enabled")]):e._e()],1),t("vs-td",[t("vx-tooltip",{attrs:{text:"Edit",position:"left"}},[t("vs-button",{attrs:{radius:"",color:"primary",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(t){return e.update_process(s,a)}}})],1)],1)],1)}))}}])},[t("template",{slot:"thead"},[t("vs-th",[e._v("Name")]),t("vs-th",[e._v("Description")]),t("vs-th",[e._v("Status")]),t("vs-th",[e._v("Action")])],1)],2)],1)],2)],1),t("vs-popup",{staticClass:"vs-con-loading__container clinic-create-popup",attrs:{title:"Create Process",active:e.popupActive,"buttons-hidden":!0},on:{"update:active":function(s){e.popupActive=s},close:e.close_edit_process_dialog}},[t("form",{attrs:{id:"process_form"}},[t("vx-card",{attrs:{"no-shadow":""}},[t("div",{staticClass:"vx-row mb-3"},[t("div",{staticClass:"vx-col w-full"},[t("small",{staticClass:"label"},[e._v("Name")]),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],staticClass:"w-full required",attrs:{placeholder:"Process Name",name:"name"},model:{value:e.process.name,callback:function(s){e.$set(e.process,"name",s)},expression:"process.name"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("name")))])],1)]),t("div",{staticClass:"vx-row mb-3"},[t("div",{staticClass:"vx-col w-full"},[t("small",{staticClass:"label"},[e._v("Description")]),t("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"description",height:"100px"},model:{value:e.process.description,callback:function(s){e.$set(e.process,"description",s)},expression:"process.description"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("description"),expression:"errors.has('description')"}],staticClass:"text-danger text-sm"},[e._v(e._s(e.errors.first("description")))])],1)]),t("div",{staticClass:"vx-row mb-3"},[t("div",{staticClass:"vx-col w-full"},[t("vs-checkbox",{attrs:{"false-value":"0","true-value":"1"},model:{value:e.process.status,callback:function(s){e.$set(e.process,"status",s)},expression:"process.status"}},[e._v("Status")])],1)]),t("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[t("vs-button",{staticClass:"ml-auto mt-2",on:{click:function(s){return e.save_process(s)}}},[e._v("Save Changes")]),t("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:e.reset_process}},[e._v("Reset")])],1)])],1)])],1)},r=[],o=t("2866"),c={name:"ProcessList",data:function(){return{breadcrumbs:[{title:"Home",url:"/"},{title:"Process List",url:"/pages/process",active:!0}],popupActive:!1,editActive:!1,edit:null,editProp:{},checkBox1:!1,processes:[],process_id:-1,selected_process_index:-1,selected_process:{},process:{}}},components:{},methods:{onClickClinicEdit:function(e){this.$router.push({path:"/pages/client/".concat(e)})},save_process:function(e){e.preventDefault();var s=this;this.$validator.validateAll().then((function(e){e?(s.$vs.loading(),-1===s.process_id?o["a"].create_master_process(s.process).then((function(e){var t=e.data;console.log(e,"process"),t&&void 0!==t&&(t.success?(s.processes.push(t.data),s.popupActive=!1,s.$vs.loading.close(),s.$vs.notify({position:"top-right",title:"Create department",text:"Saved successfully",color:"success",timing:4e3})):(s.$vs.loading.close(),s.$vs.notify({title:"Create Process",text:"Invalid data",color:"warning",timing:4e3}))),s.$vs.loading.close()})).catch((function(e){s.$vs.loading.close(),s.$vs.notify({title:"Create Process",text:"Failed.Invalid data",color:"warning",timing:4e3})})):s.process_id>0&&o["a"].update_master_process(s.process_id,s.process).then((function(e){var t=e.data;t&&void 0!==t&&(t.success?(s.processes[s.selected_process_index]&&s.processes.splice(s.selected_process_index,1,t.data),s.popupActive=!1,s.$vs.notify({position:"top-right",title:"Update department",text:"Saved successfully",color:"success",timing:4e3})):s.$vs.notify({title:"Update Process",text:"Invalid data",color:"warning",timing:4e3})),s.$vs.loading.close()})).catch((function(e){s.$vs.loading.close(),s.$vs.notify({title:"Update Process",text:"Failed.Invalid data",color:"warning",timing:4e3})}))):console.log("form validation error")}))},reset_process:function(){this.process=Object.assign({},this.selected_process),this.$validator.reset()},create_process:function(){this.$validator.reset(),this.process=Object.assign({},o["a"].process),this.selected_process_index=-1,this.process_id=-1,this.selected_process=Object.assign({},this.process),this.popupActive=!0},update_process:function(e,s){this.$validator.reset(),this.process_id=e.id||-1,this.selected_process_index=s,this.process=e,this.selected_process=Object.assign({},e),this.popupActive=!0},close_edit_process_dialog:function(){console.log(this.selected_process),this.selected_process_index>=0&&this.processes.splice(this.selected_process_index,1,this.selected_process)},get_processes:function(){var e=this;this.processes=[],this.$vs.loading(),o["a"].get_all_processes().then((function(s){var t=s.data;t&&void 0!==t&&(t.success?(e.processes=t.data||{},e.$vs.loading.close()):(e.$vs.notify({title:"Get client processes.",text:"No data returned.",color:"warning",timing:4e3}),e.$vs.loading.close()))})).catch((function(s){e.$vs.loading.close(),e.$vs.notify({title:"Get client processes.",text:"No data returned.",color:"warning",timing:4e3})}))}},created:function(){this.get_processes()}},n=c,i=(t("cb64"),t("2877")),p=Object(i["a"])(n,a,r,!1,null,"23a68343",null);s["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7b98415e.37841cb0.js.map