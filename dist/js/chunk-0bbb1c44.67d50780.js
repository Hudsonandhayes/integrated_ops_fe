(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bbb1c44"],{"02fbd":function(t,e,s){},"21a2":function(t,e,s){"use strict";s("02fbd")},"2ee4":function(t,e,s){!function(e,s){t.exports=s()}("undefined"!=typeof self&&self,(function(){return function(t){function e(a){if(s[a])return s[a].exports;var i=s[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var s={};return e.m=t,e.c=s,e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){t.exports=function(t,e,s,a,i,n){var r,o=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(r=t,o=t.default);var l,d="function"==typeof o?o.options:o;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),s&&(d.functional=!0),i&&(d._scopeId=i),n?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=l):a&&(l=a),l){var u=d.functional,v=u?d.render:d.beforeCreate;u?(d._injectStyles=l,d.render=function(t,e){return l.call(e),v(t,e)}):d.beforeCreate=v?[].concat(v,l):[l]}return{esModule:r,exports:o,options:d}}},function(t,e,s){"use strict";var a=s(2),i=s(4),n=s(14);e.a={name:"form-wizard",components:{WizardButton:a.a,WizardStep:i.a},props:{title:{type:String,default:"Awesome Wizard"},subtitle:{type:String,default:"Split a complicated flow in multiple steps"},nextButtonText:{type:String,default:"Next"},backButtonText:{type:String,default:"Back"},finishButtonText:{type:String,default:"Finish"},hideButtons:{type:Boolean,default:!1},validateOnBack:Boolean,color:{type:String,default:"#e74c3c"},errorColor:{type:String,default:"#8b0000"},shape:{type:String,default:"circle"},layout:{type:String,default:"horizontal"},stepsClasses:{type:[String,Array],default:""},stepSize:{type:String,default:"md",validator:function(t){return-1!==["xs","sm","md","lg"].indexOf(t)}},transition:{type:String,default:""},startIndex:{type:Number,default:0,validator:function(t){return t>=0}}},provide:function(){return{addTab:this.addTab,removeTab:this.removeTab}},data:function(){return{activeTabIndex:0,currentPercentage:0,maxStep:0,loading:!1,tabs:[]}},computed:{slotProps:function(){return{nextTab:this.nextTab,prevTab:this.prevTab,activeTabIndex:this.activeTabIndex,isLastStep:this.isLastStep,fillButtonStyle:this.fillButtonStyle}},tabCount:function(){return this.tabs.length},isLastStep:function(){return this.activeTabIndex===this.tabCount-1},isVertical:function(){return"vertical"===this.layout},displayPrevButton:function(){return 0!==this.activeTabIndex},stepPercentage:function(){return 1/(2*this.tabCount)*100},progressBarStyle:function(){return{backgroundColor:this.color,width:this.progress+"%",color:this.color}},fillButtonStyle:function(){return{backgroundColor:this.color,borderColor:this.color,color:"white"}},progress:function(){return this.activeTabIndex>0?this.stepPercentage*(2*this.activeTabIndex+1):this.stepPercentage}},methods:{emitTabChange:function(t,e){this.$emit("on-change",t,e),this.$emit("update:startIndex",e)},addTab:function(t){var e=this.$slots.default.indexOf(t.$vnode);t.tabId=""+t.title.replace(/ /g,"")+e,this.tabs.splice(e,0,t),e<this.activeTabIndex+1&&(this.maxStep=e,this.changeTab(this.activeTabIndex+1,e))},removeTab:function(t){var e=this.tabs,s=e.indexOf(t);s>-1&&(s===this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.changeTab(this.activeTabIndex,this.activeTabIndex-1)),s<this.activeTabIndex&&(this.maxStep=this.activeTabIndex-1,this.activeTabIndex=this.activeTabIndex-1,this.emitTabChange(this.activeTabIndex+1,this.activeTabIndex)),e.splice(s,1))},reset:function(){this.maxStep=0,this.tabs.forEach((function(t){t.checked=!1})),this.navigateToTab(0)},activateAll:function(){this.maxStep=this.tabs.length-1,this.tabs.forEach((function(t){t.checked=!0}))},navigateToTab:function(t){var e=this,s=t>this.activeTabIndex;if(t<=this.maxStep){var a=function a(){s&&t-e.activeTabIndex>1?(e.changeTab(e.activeTabIndex,e.activeTabIndex+1),e.beforeTabChange(e.activeTabIndex,a)):(e.changeTab(e.activeTabIndex,t),e.afterTabChange(e.activeTabIndex))};s?this.beforeTabChange(this.activeTabIndex,a):(this.setValidationError(null),a())}return t<=this.maxStep},nextTab:function(){var t=this,e=function(){t.activeTabIndex<t.tabCount-1?(t.changeTab(t.activeTabIndex,t.activeTabIndex+1),t.afterTabChange(t.activeTabIndex)):t.$emit("on-complete")};this.beforeTabChange(this.activeTabIndex,e)},prevTab:function(){var t=this,e=function(){t.activeTabIndex>0&&(t.setValidationError(null),t.changeTab(t.activeTabIndex,t.activeTabIndex-1))};this.validateOnBack?this.beforeTabChange(this.activeTabIndex,e):e()},focusNextTab:function(){var t=Object(n.b)(this.tabs);if(-1!==t&&t<this.tabs.length-1){var e=this.tabs[t+1];e.checked&&Object(n.a)(e.tabId)}},focusPrevTab:function(){var t=Object(n.b)(this.tabs);if(-1!==t&&t>0){var e=this.tabs[t-1].tabId;Object(n.a)(e)}},setLoading:function(t){this.loading=t,this.$emit("on-loading",t)},setValidationError:function(t){this.tabs[this.activeTabIndex].validationError=t,this.$emit("on-error",t)},validateBeforeChange:function(t,e){var s=this;if(this.setValidationError(null),Object(n.c)(t))this.setLoading(!0),t.then((function(t){s.setLoading(!1);var a=!0===t;s.executeBeforeChange(a,e)})).catch((function(t){s.setLoading(!1),s.setValidationError(t)}));else{var a=!0===t;this.executeBeforeChange(a,e)}},executeBeforeChange:function(t,e){this.$emit("on-validate",t,this.activeTabIndex),t?e():this.tabs[this.activeTabIndex].validationError="error"},beforeTabChange:function(t,e){if(!this.loading){var s=this.tabs[t];if(s&&void 0!==s.beforeChange){var a=s.beforeChange();this.validateBeforeChange(a,e)}else e()}},afterTabChange:function(t){if(!this.loading){var e=this.tabs[t];e&&void 0!==e.afterChange&&e.afterChange()}},changeTab:function(t,e){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.tabs[t],i=this.tabs[e];return a&&(a.active=!1),i&&(i.active=!0),s&&this.activeTabIndex!==e&&this.emitTabChange(t,e),this.activeTabIndex=e,this.activateTabAndCheckStep(this.activeTabIndex),!0},tryChangeRoute:function(t){this.$router&&t.route&&this.$router.push(t.route)},checkRouteChange:function(t){var e=-1,s=this.tabs.find((function(s,a){var i=s.route===t;return i&&(e=a),i}));if(s&&!s.active){var a=e>this.activeTabIndex;this.navigateToTab(e,a)}},deactivateTabs:function(){this.tabs.forEach((function(t){t.active=!1}))},activateTab:function(t){this.deactivateTabs();var e=this.tabs[t];e&&(e.active=!0,e.checked=!0,this.tryChangeRoute(e))},activateTabAndCheckStep:function(t){this.activateTab(t),t>this.maxStep&&(this.maxStep=t),this.activeTabIndex=t},initializeTabs:function(){this.tabs.length>0&&0===this.startIndex&&this.activateTab(this.activeTabIndex),this.startIndex<this.tabs.length?this.activateTabAndCheckStep(this.startIndex):window.console.warn("Prop startIndex set to "+this.startIndex+" is greater than the number of tabs - "+this.tabs.length+". Make sure that the starting index is less than the number of tabs registered")}},mounted:function(){this.initializeTabs()},watch:{"$route.path":function(t){this.checkRouteChange(t)}}}},function(t,e,s){"use strict";function a(t){s(10)}var i=s(3),n=s(11),r=s(0),o=a,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},function(t,e,s){"use strict";e.a={}},function(t,e,s){"use strict";function a(t){s(12)}var i=s(5),n=s(13),r=s(0),o=a,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},function(t,e,s){"use strict";e.a={name:"wizard-step",props:{tab:{type:Object,default:function(){}},transition:{type:String,default:""},index:{type:Number,default:0}},computed:{iconActiveStyle:function(){return{backgroundColor:this.tab.color}},stepCheckedStyle:function(){return{borderColor:this.tab.color}},errorStyle:function(){return{borderColor:this.tab.errorColor,backgroundColor:this.tab.errorColor}},stepTitleStyle:function(){return{color:this.tab.validationError?this.tab.errorColor:this.tab.color}},isStepSquare:function(){return"square"===this.tab.shape},isTabShape:function(){return"tab"===this.tab.shape}}}},function(t,e,s){"use strict";e.a={name:"tab-content",props:{title:{type:String,default:""},icon:{type:String,default:""},beforeChange:{type:Function},afterChange:{type:Function},route:{type:[String,Object]},additionalInfo:{type:Object,default:function(){}}},inject:["addTab","removeTab"],data:function(){return{active:!1,validationError:null,checked:!1,tabId:""}},computed:{shape:function(){return this.$parent.shape},color:function(){return this.$parent.color},errorColor:function(){return this.$parent.errorColor}},mounted:function(){this.addTab(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(8),i=s(16),n=s(2),r=s(4);s.d(e,"FormWizard",(function(){return a.a})),s.d(e,"TabContent",(function(){return i.a})),s.d(e,"WizardButton",(function(){return n.a})),s.d(e,"WizardStep",(function(){return r.a}));var o={install:function(t){t.component("form-wizard",a.a),t.component("tab-content",i.a),t.component("wizard-button",n.a),t.component("wizard-step",r.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(o),e.default=o},function(t,e,s){"use strict";function a(t){s(9)}var i=s(1),n=s(15),r=s(0),o=a,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},function(t,e){},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"wizard-btn",attrs:{tabindex:"-1",type:"button"}},[t._t("default")],2)},i=[],n={render:a,staticRenderFns:i};e.a=n},function(t,e){},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:{active:t.tab.active}},[s("a",{class:{disabled:!t.tab.checked},attrs:{href:"javascript:void(0)"}},[s("div",{staticClass:"wizard-icon-circle md",class:{checked:t.tab.checked,square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.checked?t.stepCheckedStyle:{},t.tab.validationError?t.errorStyle:{}],attrs:{role:"tab",tabindex:t.tab.checked?0:"",id:"step-"+t.tab.tabId,"aria-controls":t.tab.tabId,"aria-disabled":t.tab.active,"aria-selected":t.tab.active}},[s("transition",{attrs:{name:t.transition,mode:"out-in"}},[t.tab.active?s("div",{staticClass:"wizard-icon-container",class:{square_shape:t.isStepSquare,tab_shape:t.isTabShape},style:[t.tab.active?t.iconActiveStyle:{},t.tab.validationError?t.errorStyle:{}]},[t._t("active-step",[t.tab.icon?s("i",{staticClass:"wizard-icon",class:t.tab.icon}):s("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2):t._e(),t._v(" "),t.tab.active?t._e():t._t("default",[!t.tab.active&&t.tab.icon?s("i",{staticClass:"wizard-icon",class:t.tab.icon}):t._e(),t._v(" "),t.tab.active||t.tab.icon?t._e():s("i",{staticClass:"wizard-icon"},[t._v(t._s(t.index+1))])])],2)],1),t._v(" "),t._t("title",[s("span",{staticClass:"stepTitle",class:{active:t.tab.active,has_error:t.tab.validationError},style:t.tab.active?t.stepTitleStyle:{}},[t._v("\n            "+t._s(t.tab.title)+"\n      ")])])],2)])},i=[],n={render:a,staticRenderFns:i};e.a=n},function(t,e,s){"use strict";function a(){return document.activeElement.id}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=a();return t.findIndex((function(t){return t.tabId===e}))}function n(t){document.getElementById(t).focus()}function r(t){return t.then&&"function"==typeof t.then}e.b=i,e.a=n,e.c=r},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue-form-wizard",class:[t.stepSize,{vertical:t.isVertical}],on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key)?"button"in e&&2!==e.button?null:void t.focusNextTab(e):null},function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key)?"button"in e&&0!==e.button?null:void t.focusPrevTab(e):null}]}},[s("div",{staticClass:"wizard-header"},[t._t("title",[s("h4",{staticClass:"wizard-title"},[t._v(t._s(t.title))]),t._v(" "),s("p",{staticClass:"category"},[t._v(t._s(t.subtitle))])])],2),t._v(" "),s("div",{staticClass:"wizard-navigation"},[t.isVertical?t._e():s("div",{staticClass:"wizard-progress-with-circle"},[s("div",{staticClass:"wizard-progress-bar",style:t.progressBarStyle})]),t._v(" "),s("ul",{staticClass:"wizard-nav wizard-nav-pills",class:t.stepsClasses,attrs:{role:"tablist"}},[t._l(t.tabs,(function(e,a){return t._t("step",[s("wizard-step",{attrs:{tab:e,"step-size":t.stepSize,transition:t.transition,index:a},nativeOn:{click:function(e){t.navigateToTab(a)},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.navigateToTab(a)}}})],{tab:e,index:a,navigateToTab:t.navigateToTab,stepSize:t.stepSize,transition:t.transition})}))],2),t._v(" "),s("div",{staticClass:"wizard-tab-content"},[t._t("default",null,null,t.slotProps)],2)]),t._v(" "),t.hideButtons?t._e():s("div",{staticClass:"wizard-card-footer clearfix"},[t._t("footer",[s("div",{staticClass:"wizard-footer-left"},[t.displayPrevButton?s("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.prevTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.prevTab(e)}}},[t._t("prev",[s("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n              "+t._s(t.backButtonText)+"\n            ")])],null,t.slotProps)],2):t._e(),t._v(" "),t._t("custom-buttons-left",null,null,t.slotProps)],2),t._v(" "),s("div",{staticClass:"wizard-footer-right"},[t._t("custom-buttons-right",null,null,t.slotProps),t._v(" "),t.isLastStep?s("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("finish",[s("wizard-button",{style:t.fillButtonStyle},[t._v("\n              "+t._s(t.finishButtonText)+"\n            ")])],null,t.slotProps)],2):s("span",{attrs:{role:"button",tabindex:"0"},on:{click:t.nextTab,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.nextTab(e)}}},[t._t("next",[s("wizard-button",{style:t.fillButtonStyle,attrs:{disabled:t.loading}},[t._v("\n            "+t._s(t.nextButtonText)+"\n           ")])],null,t.slotProps)],2)],2)],null,t.slotProps)],2)])},i=[],n={render:a,staticRenderFns:i};e.a=n},function(t,e,s){"use strict";var a=s(6),i=s(17),n=s(0),r=n(a.a,i.a,!1,null,null,null);e.a=r.exports},function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"wizard-tab-container",attrs:{role:"tabpanel",id:t.tabId,"aria-hidden":!t.active,"aria-labelledby":"step-"+t.tabId}},[t._t("default",null,{active:t.active})],2)},i=[],n={render:a,staticRenderFns:i};e.a=n}])}))},a349:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"assessment-form"}},[s("vx-card",[s("vs-breadcrumb",{staticClass:"flex-grow justify-start",attrs:{items:t.breadcrumbs}}),s("form-wizard",{attrs:{title:t.survey_form_wizard_title,subtitle:null,"finish-button-text":"Generate"},on:{"on-complete":t.submit_ops_survey},scopedSlots:t._u([{key:"custom-buttons-left",fn:function(e){return[e.isLastStep?t._e():s("wizard-button",{staticClass:"save-exit-btn",nativeOn:{click:function(s){return t.save_and_exit(e.activeTabIndex)}}},[t._v("Save & Exit")])]}},{key:"custom-buttons-right",fn:function(e){return[e.isLastStep?s("wizard-button",{staticClass:"save-exit-btn",nativeOn:{click:function(e){return t.generate_and_send.apply(null,arguments)}}},[t._v("Generate & Send")]):t._e()]}}])},[s("tab-content",{attrs:{title:"Survey Information","before-change":t.create_ops_survey}},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-1/2"},[s("small",{staticClass:"label"},[t._v("Survey Name")]),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full required",attrs:{name:"survey_name",type:"text"},model:{value:t.survey.name,callback:function(e){t.$set(t.survey,"name",e)},expression:"survey.name"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("survey_name"),expression:"errors.has('survey_name')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("survey_name")))])],1),s("div",{staticClass:"vx-col w-1/2"},[s("small",{staticClass:"label"},[t._v(" Timing Assessment")]),s("v-select",{staticClass:"w-full required",attrs:{label:"name",options:t.client_assessments,reduce:function(t){return t.id},dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.survey.client_assessment_id,callback:function(e){t.$set(t.survey,"client_assessment_id",e)},expression:"survey.client_assessment_id"}})],1)]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-1/2"},[s("small",{staticClass:"label"},[t._v("Start Date")]),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"date",name:"start_date"},model:{value:t.survey.start_date,callback:function(e){t.$set(t.survey,"start_date",e)},expression:"survey.start_date"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("start_date"),expression:"errors.has('start_date')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("start_date")))])],1),s("div",{staticClass:"vx-col w-1/2"},[s("small",{staticClass:"label"},[t._v("End Date")]),s("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full",attrs:{type:"date",name:"end_date"},model:{value:t.survey.end_date,callback:function(e){t.$set(t.survey,"end_date",e)},expression:"survey.end_date"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("end_date"),expression:"errors.has('end_date')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("end_date")))])],1)]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("small",{staticClass:"label"},[t._v("Description")]),s("vs-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"}],attrs:{name:"survey_description",height:"100px"},model:{value:t.survey.description,callback:function(e){t.$set(t.survey,"description",e)},expression:"survey.description"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("survey_description"),expression:"errors.has('survey_description')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("survey_description")))])],1)]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-1/2"},[s("small",{staticClass:"label"},[t._v("Status")]),s("vs-checkbox",{attrs:{"false-value":"0","true-value":"1"},model:{value:t.survey.status,callback:function(e){t.$set(t.survey,"status",e)},expression:"survey.status"}},[t._v("Status")])],1)]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-1/2"},[s("vs-input",{attrs:{type:"hidden",value:t.client_id,name:"client id"},model:{value:t.survey.client_id,callback:function(e){t.$set(t.survey,"client_id",e)},expression:"survey.client_id"}})],1)])]),s("tab-content",{attrs:{title:"Process Info","before-change":t.create_process_lever}},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full flex justify-end"},[t.selected_processes.length>0?s("vs-button",{staticClass:"p-3 mr-6 mb-6 mt-6",attrs:{color:"danger"},on:{click:function(e){return t.confirm_delete_assessment_process()}}},[t._v("\n\t\t\t\t\t\t\t\tDelete Process\n\t\t\t\t\t\t\t")]):t._e(),s("vs-button",{staticClass:"p-3 ml-6 mb-6 mt-6",on:{click:function(e){return t.assign_process_participants()}}},[t._v("\n\t\t\t\t\t\t\t\tAdd particpants\n\t\t\t\t\t\t\t")])],1),s("div",{staticClass:"vx-col w-full"},[s("vs-table",{staticClass:"w-full",attrs:{multiple:"",onlyClickCheckbox:"",stripe:"",data:t.saved_process_emp},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return[s("tbody",t._l(a,(function(e,a){return s("vs-tr",{key:a,staticClass:"w-full",attrs:{data:e}},[s("vs-td",{staticClass:"w-1/4",attrs:{data:e.name}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),s("vs-td",{staticClass:"w-1/4",attrs:{data:e.description}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.description)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),s("vs-td",{staticClass:"w-1/2"},[s("ul",t._l(e.employees,(function(i,n){return s("li",{key:i.ops_employee_process_id,staticClass:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tw-full\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify-between\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpb-2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder-b\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"},[s("span",[t._v(t._s(i.first_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(i.last_name))]),s("span",[t._v(t._s(i.email))]),s("vs-button",{attrs:{type:"border",size:"small","icon-pack":"feather",icon:"icon-trash",color:"danger"},on:{click:function(s){return t.confirm_delete_process_employee(i,e,a,n)}}})],1)})),0)])],1)})),1)]}}]),model:{value:t.selected_processes,callback:function(e){t.selected_processes=e},expression:"selected_processes"}},[s("template",{slot:"thead"},[s("vs-th",{staticClass:"w-1/4"},[t._v("Process Name")]),s("vs-th",{staticClass:"w-1/4"},[t._v("Description")]),s("vs-th",{staticClass:"w-1/2"},[t._v("Participants")])],1)],2)],1)])]),s("tab-content",{attrs:{title:"Lever Selection","before-change":t.create_survey_process}},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("vs-table",{attrs:{data:t.process_levers},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,a){return s("vs-tr",{key:a,attrs:{data:e}},[s("vs-td",{staticClass:"vx-col w-full"},[s("div",{attrs:{data:e.name}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t\t\t\t")]),s("div",{staticClass:"vx-col w-2/3"},[s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full required",attrs:{required:"",options:t.levers,label:"name",name:"levers",multiple:"","append-to-body":"",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.process_levers[a].levers,callback:function(e){t.$set(t.process_levers[a],"levers",e)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprocess_levers[indextr]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.levers\n\t\t\t\t\t\t\t\t\t\t\t\t\t"}})],1)])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v("Process Name / Levers")])],1)],2)],1)])]),s("tab-content",{attrs:{title:"Summary"}},[s("h3",{staticClass:"mb-8 summary-title"},[t._v("Summary")]),s("vx-card",{staticClass:"mb-3",attrs:{title:"General Info"}},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("b",[t._v("Survey Name")]),s("span",{staticClass:"pl-3"},[t._v(t._s(t.summary.ops_survey.name))])]),s("div",{staticClass:"vx-col w-full"},[s("b",[t._v("Description")]),s("span",{staticClass:"pl-3"},[t._v(t._s(t.summary.ops_survey.description))])]),s("div",{staticClass:"vx-col w-1/2 summary-info mb-6"},[s("b",[t._v("Start Date")]),s("span",{staticClass:"pl-3"},[t._v(t._s(t._f("localdate")(t.summary.ops_survey.start_date)))])]),s("div",{staticClass:"vx-col w-1/2 summary-info"},[s("b",[t._v("End Date")]),s("span",{staticClass:"pl-3"},[t._v(t._s(t._f("localdate")(t.summary.ops_survey.end_date)))])])])]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("vx-card",{attrs:{title:"Selected Participants"}},[s("div",{staticClass:"vx-col w-full mb-base"},t._l(t.summary.process_emp,(function(e){return s("vx-card",{key:e.id,staticClass:"mb-3",attrs:{subtitle:e.name,"subtitle-color":"primary","collapse-action":""}},[s("vs-table",{attrs:{"max-items":"10",pagination:"",data:e.employees},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i},[s("vs-td",{attrs:{data:a[i].first_name}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a[i].first_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a[i].last_name)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")]),s("vs-td",{attrs:{data:a[i].email}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(a[i].email)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t")])],1)}))}}],null,!0)},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Name ")]),s("vs-th",[t._v(" Email ")])],1)],2)],1)})),1)])],1)])],1)],1),s("vs-popup",{staticClass:"\n\t\t\t\t\tvs-con-loading__container\n\t\t\t\t\tclient-process-create-popup\n\t\t\t\t\tadd_process\n\t\t\t\t",attrs:{title:"Associate Participants to Processes",active:t.process_participant_dialog,"buttons-hidden":!0},on:{"update:active":function(e){t.process_participant_dialog=e}}},[s("vx-card",{attrs:{"no-shadow":""}},[s("form",{attrs:{"data-vv-scope":"associate_participant_frm",id:"associate_participant_frm"}},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("small",{staticClass:"label"},[t._v("Process Name")]),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-full required",attrs:{required:"",options:t.client_processes,label:"name",name:"processes",multiple:"",reduce:function(t){return t.id},dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.assign_processes_participants.processes_ids,callback:function(e){t.$set(t.assign_processes_participants,"processes_ids",e)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\tassign_processes_participants.processes_ids\n\t\t\t\t\t\t\t\t\t\t\t"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("associate_participant_frm.processes"),expression:"\n\t\t\t\t\t\t\t\t\t\t\t\terrors.has(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'associate_participant_frm.processes'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t"}],staticClass:"text-danger text-sm"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.first("associate_participant_frm.processes"))+"\n\t\t\t\t\t\t\t\t\t\t")])],1)]),s("div",{staticClass:"vx-row mb-3"},[s("div",{staticClass:"vx-col w-full"},[s("small",{staticClass:"label"},[t._v("Employees")]),s("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"employee",options:t.employees,getOptionLabel:function(t){return t.first_name+" "+t.last_name},multiple:"",reduce:function(t){return t.id},dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.assign_processes_participants.employee_ids,callback:function(e){t.$set(t.assign_processes_participants,"employee_ids",e)},expression:"\n\t\t\t\t\t\t\t\t\t\t\t\tassign_processes_participants.employee_ids\n\t\t\t\t\t\t\t\t\t\t\t"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("associate_participant_frm.employee"),expression:"\n\t\t\t\t\t\t\t\t\t\t\t\terrors.has(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'associate_participant_frm.employee'\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t"}],staticClass:"text-danger text-sm"},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.errors.first("associate_participant_frm.employee"))+"\n\t\t\t\t\t\t\t\t\t\t")])],1)]),s("div",{staticClass:"\n\t\t\t\t\t\t\t\t\t\tflex flex-wrap\n\t\t\t\t\t\t\t\t\t\titems-center\n\t\t\t\t\t\t\t\t\t\tjustify-end\n\t\t\t\t\t\t\t\t\t\tmt-8\n\t\t\t\t\t\t\t\t\t"},[s("vs-button",{staticClass:"ml-auto mt-2",on:{click:t.save_process_participants}},[t._v("Save\n\t\t\t\t\t\t\t\t\t")]),s("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:function(e){t.process_participant_dialog=!1}}},[t._v("Close\n\t\t\t\t\t\t\t\t\t")])],1)])])])])],1),s("vs-alert",{staticClass:"success_alert",attrs:{active:t.sucess_dialog,closable:"","close-icon":"close"},on:{"update:active":function(e){t.sucess_dialog=e}}},[t._v("\n\t\t\t\tSuccessfully created Survey !\n\t\t\t")]),s("vs-alert",{staticClass:"error_alert",attrs:{active:t.error_dialog,closable:"","close-icon":"close"},on:{"update:active":function(e){t.error_dialog=e}}},[t._v("\n\t\t\t\tError in creating Survey !\n\t\t\t")])],1)],1)},i=[],n=s("75fc"),r=(s("2fdb"),s("7f7f"),s("6762"),s("ac6a"),s("2ee4")),o=(s("da93"),s("4a7a")),c=s.n(o),l=s("c134"),d=s("2866"),u=s("b2a6"),v=s("d225"),p=s("b0b4"),_=s("bb36"),m=function(){function t(){Object(v["a"])(this,t)}return Object(p["a"])(t,[{key:"get_process_levers",value:function(){return _["a"].get("/levers")}},{key:"post_process_levers",value:function(t,e,s){return _["a"].post("/client/".concat(t,"/ops-survey/").concat(e,"/process-levers"),s)}},{key:"get_saved_process_levers",value:function(t,e){return _["a"].get("/client/".concat(t,"/ops-survey/").concat(e,"/process-levers"))}}]),t}(),f=new m,h=s("52b7"),g=s("4e1d"),b=s("7bb1"),y={custom:{survey_name:{required:"Survey name is a required field"},start_date:{required:"Start date is a required field"},end_date:{required:"End date is a required field"}}};b["a"].localize("en",y);var x={name:"ops-assessment-form",components:{FormWizard:r["FormWizard"],TabContent:r["TabContent"],WizardButton:r["WizardButton"],vSelect:c.a,TreeView:h["a"],VTree:g["VTree"],VSelectTree:g["VSelectTree"]},data:function(){return{sucess_dialog:!1,error_dialog:!1,allCheck:!1,survey_form_wizard_title:"Create Opportunity Survey",checked_employees:[],selected:[],selected_participants_id:[],response_participants:[],selected_participants:[],root_processes:[],child_processes:{},departments:[],department_arr:[],processes:[],client_processes:[],participants:[],process_participants:[],employees:[],client_survey:{},client_id:0,survey_id:-1,client_assessment_id:-1,old_assessment_id:-1,department_id:0,select1:[],levers:[{name:"Simplification",id:1},{name:"Standardization",id:2},{name:"Automation",id:3}],process_levers:[],assessment_emp:{employee_ids:[],status:1},assessment_process:{tree_id:0,level_id:0},level_ids:[],assessment:{client_id:-1,assessment_employee_ids:[],assessment_process_ids:[],status:1},survey:{name:"",start_date:"",end_date:"",description:"",client_assessment_id:-1,status:1},survey_process:{client_id:0,process_tree_ids:[]},prev_selected_process_ids:[],selected_dept:{name:"",id:0},selected_processes:[],surveys:[],sum_processes:[],t_p:{name:"",id:0,children:[]},process_participant_dialog:!1,active2:!1,tree_data:[],assign_processes_participants:{client_id:-1,processes_ids:[],employee_ids:[]},saved_process_emp:[],sel_process_emp:{},sel_process:{},sel_process_index:-1,sel_process_emp_index:-1,summary:{ops_survey:{},process_emp:[]},saved_process_levers:[],client_assessments:[],breadcrumbs:[{title:"Home",url:"/"},{title:"Clients",url:"/pages/client/".concat(this.$route.params.client_id)},{title:"Opportunity Survey Form",active:!0}]}},methods:{go_to_assessment_page:function(t,e){var s=parseInt(t,10),a=parseInt(e,10);console.log("going to ops survey page"),this.$router.push("/pages/client/".concat(s,"/ops-survey/").concat(a))},assign_process_participants:function(){this.assign_processes_participants.processes_ids=[],this.assign_processes_participants.employee_ids=[],this.$validator.reset(),this.process_participant_dialog=!0},confirm_delete_assessment_process:function(){this.selected_processes.length>0&&this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Assessment Process(s) Delete",text:"Please confirm that you wish to delete the Assessment Process(s)? Any previous data stored for these process(s) may also get deleted.",accept:this.delete_assessment_process})},delete_assessment_process:function(){console.log("delete assessment process API to call "),console.log(this.selected_processes);var t=this,e=[];this.selected_processes.forEach((function(t,s){e.push(t.client_process_id)})),e.length>0&&u["a"].remove_ops_employee_process(this.client_assessment_id,e).then((function(s){var a=s.data;if(a&&void 0!==a)if(a.success){for(var i=[],n=0;n<t.saved_process_emp.length;n++)e.includes(t.saved_process_emp[n].client_process_id)||i.push(t.saved_process_emp[n]);t.saved_process_emp=i}else t.$vs.notify({title:"Delete ops survey assessment process.",text:a.error,color:"warning",timing:4e3})})).catch((function(t){that.$vs.notify({title:"Delete ops survey assessment process.",text:t.message,color:"warning",timing:4e3})})),this.selected_processes=[]},create_ops_survey:function(t){var e=!1,s=[];return void 0!==this.survey.name&&0!==this.survey.name.length||(s.push("Survey Name is missing"),e=!0),void 0!==this.survey.start_date&&0!==this.survey.start_date.length||(s.push("Survey Start Date"),e=!0),void 0!==this.survey.end_date&&0!==this.survey.end_date.length||(s.push("Survey End Date"),e=!0),e?(this.$vs.notify({title:"Please provide the following details",text:s.join("<br/>"),color:"warning",timing:5e3}),!1):(this.save_first_step(!1),!0)},create_participants:function(t){return this.save_second_step(!1),!0},go_to_clients_page:function(t){var e=parseInt(t,10);this.$router.push("/pages/client/".concat(e))},save_and_exit:function(t){if(console.log("stage num ".concat(t)),0===t)return this.save_first_step(!0);1===t?this.go_to_clients_page(this.client_id):2===t&&this.create_survey_process(!0)},save_first_step:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,s=t;this.client_assessment_id<=0?(this.$vs.loading(),u["a"].create_ops_survey(this.client_id,this.survey).then((function(t){var a=t.data;if(a&&void 0!==a)if(a.success)if(e.surveys.push(a.data),e.client_assessment_id=a.data.id,e.survey_form_wizard_title="Editing Opportunity Survey : "+a.data.name,s)e.$vs.loading.close(),e.go_to_clients_page(e.client_id);else{e.get_survey_processes(),e.get_process_levers(),e.get_client_employees(),e.get_client_processes(),e.get_survey_process_employees();var i=parseInt(e.old_assessment_id,10),n=parseInt(e.client_assessment_id,10);-1===i&&i!==n&&e.$router.push("/pages/client/".concat(e.client_id,"/ops-assessment/").concat(n)),e.$vs.loading.close()}else e.$vs.loading.close(),e.$vs.notify({title:"Create opportunity survey",text:"Invalid data.",color:"warning",timing:4e3})})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Create opportunity survey",text:"Failed to create survey "+t.message,color:"warning",timing:4e3})}))):(this.$vs.loading(),u["a"].update_ops_survey(this.client_assessment_id,this.survey).then((function(t){var a=t.data;if(a&&void 0!==a&&a.success)if(e.surveys=a.data,s)e.$vs.loading.close(),e.go_to_clients_page(e.client_id);else{e.$vs.loading.close(),e.get_survey_processes(),e.get_process_levers(),e.get_client_employees(),e.get_client_processes(),e.get_survey_process_employees();var i=parseInt(e.old_assessment_id,10),n=parseInt(e.client_assessment_id,10);-1===i&&i!==n&&e.$router.push("/pages/client/".concat(e.client_id,"/ops-assessment/").concat(n))}})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Failed to edit survey",text:t.message,color:"warning",timing:4e3})})))},save_second_step:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log(this.client_assessment_id,"client assessment id");var e=this,s=t;this.$vs.loading(),u["a"].create_assessment_employees(this.client_assessment_id,this.assessment_emp).then((function(t){var a=t.data;a&&void 0!==a&&a.success&&(s?e.go_to_clients_page(e.client_id):a.data.selected_employees.forEach((function(t){e.assessment_emp.employee_ids.push(t.client_assessment_employee_id),e.assessment.assessment_employee_ids.push(t.client_assessment_employee_id)}))),e.$vs.loading.close()})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Failed to create assessment",text:t.message,color:"warning",timing:4e3})}))},delete_selected_employee:function(t){var e=this;this.$vs.loading(),u["a"].delete_assessment_employee(t).then((function(t){var s=t.data;s&&void 0!==s&&s.success?e.get_client_department_employees():e.$vs.notify({title:"Delete employee",text:s.error,color:"warning",timing:4e3}),e.$vs.loading.close()})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Error deleting employee",text:t.message,color:"warning",timing:4e3})}))},get_client_employees:function(){var t=this;this.employees=[],this.$vs.loading(),l["a"].get_client_employees(this.client_id).then((function(e){var s=e.data;s&&void 0!==s&&(s.success?t.employees=s.data:t.$vs.notify({title:"Get client employees",text:"No data returned",color:"warning",timing:4e3})),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Get client employees",text:e.meesage,color:"warning",timing:4e3})}))},save_process_participants:function(){var t=this,e=this;this.$validator.validateAll("associate_participant_frm").then((function(s){s&&void 0!=e.assign_processes_participants.processes_ids&&e.assign_processes_participants.processes_ids.length>0&&(e.assign_processes_participants.client_id=t.client_id,e.$vs.loading(),u["a"].create_ops_survey_process_employees(e.client_assessment_id,e.assign_processes_participants).then((function(t){var s=t.data;if(s&&void 0!==s)if(s.success){var a=s.data||[];e.saved_process_emp=a.slice(0,a.length),e.process_participant_dialog=!1,e.$vs.notify({position:"top-right",title:"Save Successful",text:"Paricipants added to process",color:"success",timing:4e3})}else e.$vs.notify({title:"Add participant",text:"Failed to add particpant.",color:"warning",timing:4e3});e.$vs.loading.close()})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Failed to Add participant",text:t.message,color:"warning",timing:4e3})})))}))},get_client_processes:function(){var t=this;this.client_processes=[],this.$vs.loading(),l["a"].get_client_processes(this.client_id).then((function(e){var s=e.data;s&&void 0!==s&&(s.success?t.client_processes=s.data||{}:t.$vs.notify({title:"Get client process",text:"No data returned",color:"warning",timing:4e3})),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Get client process",text:e.message,color:"warning",timing:4e3})}))},get_process_levers:function(){var t=this;this.$vs.loading(),this.process_levers=[],f.get_process_levers().then((function(e){var s=e.data;s&&void 0!==s&&s.success&&(t.levers=s.data||{}),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error fetching process levers",text:e.message,color:"warning",timing:4e3})})),this.saved_process_levers=[],this.$vs.loading(),f.get_saved_process_levers(this.client_id,this.client_assessment_id).then((function(e){var s=e.data;s&&void 0!==s&&s.success&&(t.saved_process_levers=s.data||{}),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error fetching saved process levers",text:e.message,color:"warning",timing:4e3})}))},process_tree:function(t,e){var s=this;this.tree_data=[];this.tree_data;this.prev_selected_process_ids=e,t.forEach((function(t){var a=!!e.includes(t.id),i={id:t.id,title:t.name,selected:a,checked:a,expanded:!0,children:[]};if(t.parent_process_tree_id>0){var n=d["a"].find_tree_item(t.parent_process_tree_id,s.tree_data);n.children.push(i)}else s.tree_data.push(i)}))},get_survey_processes:function(){var t=this;this.$vs.loading(),l["a"].get_client_process_tree(this.client_id).then((function(e){var s=e.data;if(s&&void 0!==s)if(s.success){var a=s.data.process_tree||[],i=s.data.saved_process_tree_ids||[],n=[];i.forEach((function(t){n.push(t.process_tree_id)})),t.process_tree(a,n)}else t.$vs.notify({title:"Get Survey processes",text:"Survey processes not found.",color:"warning",timing:4e3});t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Survey processes not found.",text:e.message,color:"warning",timing:4e3})}))},get_client_ops_survey:function(){var t=this;this.$vs.loading(),u["a"].get_client_ops_survey(this.client_assessment_id).then((function(e){var s=e.data;s&&void 0!==s&&(s.success?(t.client_survey=s.data||{},t.survey=t.client_survey,t.survey_form_wizard_title="Editing Opportunity Survey : "+t.client_survey.name):t.$vs.notify({title:"Get opportunity survey",text:"No data returned",color:"warning",timing:4e3})),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Get opportunity survey",text:e.message,color:"warning",timing:4e3})}))},create_survey_process:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,s=!0;return this.process_levers.forEach((function(t){0===t.levers.length&&(s=!1)})),s?(this.$vs.loading(),new Promise((function(s,a){f.post_process_levers(e.client_id,e.client_assessment_id,e.process_levers).then((function(a){e.$vs.loading.close();var i=a.data;i&&void 0!=i&&(i.success?(t&&e.go_to_clients_page(e.client_id),e.get_survey_summary(),s(!0)):(e.$vs.notify({title:"Error creating Survey Processes",text:i.error,color:"warning",timing:4e3}),s(!1)))})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Process levers update",text:t.message,color:"warning",timing:4e3}),s(!1)}))}))):(this.$vs.notify({title:"Error: Select Process Lever",text:"Please select atleast one process lever",color:"warning",timing:4e3}),!1)},create_process_lever:function(){var t=this;return this.saved_process_emp.length>0?(this.process_levers=[],this.saved_process_emp.forEach((function(e){var s={name:e.description,id:e.client_process_id,levers:t.levers};t.saved_process_levers[e.client_process_id]&&(s["levers"]=t.saved_process_levers[e.client_process_id]["levers"]),t.process_levers.push(s),console.log(s)})),!0):(this.$vs.notify({title:"Participant not selected",text:"Plaese select participant(s) for the survey",color:"warning",timing:4e3}),!1)},get_survey_process_employees:function(){var t=this;this.$vs.loading(),u["a"].get_survey_process_employees(this.client_assessment_id).then((function(e){var s,a=e.data;a&&void 0!==a&&(a.success?(s=t.saved_process_emp).splice.apply(s,[0,t.saved_process_emp.length].concat(Object(n["a"])(a.data))):t.$vs.notify({title:"Get survey process employees",text:"There are no  survey process employees",color:"warning",timing:4e3}));t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Get survey process employees",text:e.message,color:"warning",timing:4e3})}))},confirm_delete_process_employee:function(t,e,s,a){this.sel_process_emp=t,this.sel_process=e,this.sel_process_index=s,this.sel_process_emp_index=a,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Participant Delete",text:"Please confirm that you wish to delete the Participant from the Process? Any previous data stored for this process participant may get deleted.",accept:this.delete_process_employee,parameters:[t,e,s,a]})},acceptAlert:function(t){this.$vs.notify({color:"danger",title:"Deleted image",text:"The selected image was successfully deleted"})},delete_process_employee:function(t){var e=this;this.$vs.loading(),u["a"].delete_process_employee(this.sel_process_emp.ops_employee_process_id).then((function(t){var s=t.data;s&&void 0!==s?(1===e.sel_process.employees.length?e.get_survey_process_employees():e.sel_process.employees.splice(e.sel_process_emp_index,1),e.$vs.notify({title:"Delete sucessful",text:"Resource has been removed successfully.",color:"success",timing:4e3})):e.$vs.notify({title:"Failed : Delete Resource",text:s.error,color:"warning",timing:4e3}),e.$vs.loading.close()})).catch((function(t){e.$vs.loading.close(),e.$vs.notify({title:"Delete employees",text:t.message,color:"warning",timing:4e3})}))},get_survey_summary:function(){this.$vs.loading();var t=this;return u["a"].get_ops_survey_summary(this.client_assessment_id).then((function(e){var s=e.data;if(s&&void 0!==s){if(s.success)return t.summary.ops_survey=s.data.ops_survey,t.summary.process_emp=s.data.process_employees||[],t.$vs.loading.close(),!0;t.$vs.loading.close(),t.$vs.notify({title:"Survey summary",text:"No data returned.",color:"warning",timing:4e3}),t.error_dialog=!0}})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Survey summary",text:e.message,color:"warning",timing:4e3})})),!1},get_client_surveys:function(){var t=this;this.client_assessments=[],this.$vs.loading(),u["a"].get_client_surveys(this.client_id).then((function(e){var s=e.data;s&&void 0!==s&&(s.success?t.client_assessments=s.data||{}:t.$vs.notify({title:"Get client survey",text:"There are no client surveys",color:"warning",timing:4e3})),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Get client survey",text:e.message,color:"warning",timing:4e3})}))},generate_and_send:function(){this.$vs.loading();var t=this;u["a"].create_send_ops_assessment(this.client_assessment_id).then((function(e){console.log("Assessment form submitted");var s=e.data;s&&void 0!==s&&(s.success?(t.sucess_dialog=!0,setTimeout((function(){return t.go_to_assessment_page(t.client_id,t.client_assessment_id)}),2e3)):(t.$vs.notify({title:"Create and send opportunity survey assessment.",text:"Invalid data",color:"warning",timing:4e3}),t.error_dialog=!0)),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Create and send opportunity survey assessment.",text:e.message,color:"warning",timing:4e3})}))},submit_ops_survey:function(){this.$vs.loading();var t=this;u["a"].create_ops_assessment(this.client_assessment_id).then((function(e){console.log("Assessment form submitted");var s=e.data;s&&void 0!==s&&(s.success?(t.sucess_dialog=!0,setTimeout((function(){return t.go_to_assessment_page(t.client_id,t.client_assessment_id)}),2e3)):(t.$vs.notify({title:"Create opportunity survey assessment.",text:"Invalid data",color:"warning",timing:4e3}),t.error_dialog=!0)),t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Create opportunity survey assessment.",text:"Invalid data",color:"warning",timing:4e3})}))}},mounted:function(){this.participants.map((function(t){return p_name="".concat(t.first_name," ").concat(Participant.last_name)}))},created:function(){this.client_id=parseInt(this.$route.params.client_id,10)||-1,this.client_assessment_id=parseInt(this.$route.params.survey_id,10)||-1,this.old_assessment_id=parseInt(this.$route.params.survey_id,10)||-1,this.survey=Object.assign({},u["a"].ops_survey),this.client_assessment_id>0&&this.get_client_ops_survey(this.client_assessment_id),this.survey.client_id=this.client_id,this.survey_process.client_id=this.client_id,this.assessment.client_id=this.client_id,this.get_client_processes(),this.get_client_surveys()}},w=x,C=(s("21a2"),s("2877")),$=Object(C["a"])(w,a,i,!1,null,null,null);e["default"]=$.exports},da93:function(t,e,s){}}]);
//# sourceMappingURL=chunk-0bbb1c44.67d50780.js.map