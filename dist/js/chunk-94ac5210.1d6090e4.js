(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-94ac5210"],{"7cca":function(s,t,e){},b1f3:function(s,t,e){"use strict";e("7cca")},eccd:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("vx-card",{attrs:{title:"USERS"}},[e("template",{slot:"actions"},[e("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:s.create_user}},[s._v("Create User")])],1),e("div",{staticClass:"mt-4",attrs:{slot:"no-body"},slot:"no-body"},[e("vs-table",{staticClass:"\n\t\t\t\t\t\ttable-dark-inverted table-auto\n\t\t\t\t\t\tvs-con-loading__container\n\t\t\t\t\t",attrs:{"max-items":"10",pagination:"",data:s.users,stripe:""},scopedSlots:s._u([{key:"default",fn:function(t){var a=t.data;return s._l(a,(function(t,a){return e("vs-tr",{key:a},[e("vs-td",{attrs:{data:t.name}},[s._v(s._s(t.name))]),e("vs-td",{attrs:{data:t.email}},[s._v(s._s(t.r_email))]),e("vs-td",{attrs:{data:t.role_id}},[s._v(s._s(s.get_role_label(t.role_id)))]),e("vs-td",{attrs:{data:t.status}},[s._v(s._s(s.get_status_label(t.status)))]),e("vs-td",[e("vx-tooltip",{attrs:{text:"Edit",position:"left"}},[e("vs-button",{attrs:{radius:"",color:"primary",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return s.edit_user(t,a)}}})],1),e("vx-tooltip",{attrs:{text:"Change Password",position:"left"}},[e("vs-button",{attrs:{radius:"",color:"primary",type:"border","icon-pack":"feather",icon:"icon-edit"},on:{click:function(e){return s.change_password(t.id)}}})],1)],1)],1)}))}}])},[e("template",{slot:"thead"},[e("vs-th",[s._v("NAME")]),e("vs-th",[s._v("EMAIL")]),e("vs-th",[s._v("ROLE")]),e("vs-th",[s._v("STATUS")]),e("vs-th",[s._v("ACTION")])],1)],2)],1)],2)],1),e("vs-popup",{staticClass:"vs-con-loading__container user-create-popup",attrs:{title:s.user_form_title,active:s.user_create_dialog,"buttons-hidden":!0},on:{"update:active":function(t){s.user_create_dialog=t},close:s.close_edit_user_dialog}},[e("form",{attrs:{"data-vv-scope":"user_form",id:"user_form"}},[e("vx-card",{attrs:{"no-shadow":""}},[e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Name*")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:3",expression:"'required|min:3'"}],staticClass:"w-full required",attrs:{name:"name",label:""},model:{value:s.user.name,callback:function(t){s.$set(s.user,"name",t)},expression:"user.name"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("user_form.name"),expression:"errors.has('user_form.name')"}],staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("user_form.name")))])],1)]),e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Email*")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full",attrs:{name:"email",type:"text",label:""},model:{value:s.user.email,callback:function(t){s.$set(s.user,"email",t)},expression:"user.email"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("user_form.email"),expression:"errors.has('user_form.email')"}],staticClass:"text-danger text-sm"},[s._v("\n\t\t\t\t\t\t\t"+s._s(s.errors.first("user_form.email"))+"\n\t\t\t\t\t\t")])],1)]),-1===s.user.id?e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Password*")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"user_password",staticClass:"w-full required",attrs:{name:"password",label:""},model:{value:s.user.password,callback:function(t){s.$set(s.user,"password",t)},expression:"user.password"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("user_form.password"),expression:"errors.has('user_form.password')"}],staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("user_form.password")))])],1)]):s._e(),-1===s.user.id?e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Confirm Password*")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:user_password|min:8",expression:"\n\t\t\t\t\t\t\t\t'required|confirmed:user_password|min:8'\n\t\t\t\t\t\t\t"}],staticClass:"w-full required",attrs:{name:"confirm_password",label:""},model:{value:s.user.confirm_password,callback:function(t){s.$set(s.user,"confirm_password",t)},expression:"user.confirm_password"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("user_form.confirm_password"),expression:"\n\t\t\t\t\t\t\t\terrors.has('user_form.confirm_password')\n\t\t\t\t\t\t\t"}],staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("user_form.confirm_password")))])],1)]):s._e(),e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-1/2"},[e("small",{staticClass:"label"}),e("vs-checkbox",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"status"},model:{value:s.user.status,callback:function(t){s.$set(s.user,"status",t)},expression:"user.status"}},[s._v("Status")]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("user_form.status"),expression:"errors.has('user_form.status')"}],staticClass:"text-danger text-sm"},[s._v("\n\t\t\t\t\t\t\t"+s._s(s.errors.first("user_form.status"))+"\n\t\t\t\t\t\t")])],1)]),e("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[e("vs-button",{staticClass:"ml-auto mt-2",on:{click:s.save_user}},[s._v("Save Changes")]),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:s.reset_user}},[s._v("Reset")])],1)])],1)]),e("vs-popup",{staticClass:"vs-con-loading__container change_password_dialog",attrs:{title:"Change Password",active:s.change_password_dialog,"buttons-hidden":!0},on:{"update:active":function(t){s.change_password_dialog=t}}},[e("form",{attrs:{"data-vv-scope":"change_pass_form",id:"change_pass_form"}},[e("vx-card",{attrs:{"no-shadow":""}},[e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Current Password")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],staticClass:"w-full required",attrs:{name:"current_password",label:""},model:{value:s.user_pass.current_password,callback:function(t){s.$set(s.user_pass,"current_password",t)},expression:"user_pass.current_password"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("change_pass_form.current_password"),expression:"\n\t\t\t\t\t\t\t\terrors.has(\n\t\t\t\t\t\t\t\t\t'change_pass_form.current_password'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t"}],staticClass:"text-danger text-sm"},[s._v(s._s(s.errors.first("change_pass_form.current_password")))])],1)]),e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("New Password")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"new_password",staticClass:"w-full",attrs:{name:"password",type:"text",label:""},model:{value:s.user_pass.password,callback:function(t){s.$set(s.user_pass,"password",t)},expression:"user_pass.password"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("change_pass_form.password"),expression:"errors.has('change_pass_form.password')"}],staticClass:"text-danger text-sm"},[s._v("\n\t\t\t\t\t\t\t"+s._s(s.errors.first("change_pass_form.password"))+"\n\t\t\t\t\t\t")])],1)]),e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("small",{staticClass:"label"},[s._v("Confirm Password")]),e("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:new_password|min:8",expression:"\n\t\t\t\t\t\t\t\t'required|confirmed:new_password|min:8'\n\t\t\t\t\t\t\t"}],staticClass:"w-full",attrs:{name:"confirm_password",type:"text",label:""},model:{value:s.user_pass.confirm_password,callback:function(t){s.$set(s.user_pass,"confirm_password",t)},expression:"user_pass.confirm_password"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:s.errors.has("change_pass_form.confirm_password"),expression:"\n\t\t\t\t\t\t\t\terrors.has(\n\t\t\t\t\t\t\t\t\t'change_pass_form.confirm_password'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t"}],staticClass:"text-danger text-sm"},[s._v("\n\t\t\t\t\t\t\t"+s._s(s.errors.first("change_pass_form.confirm_password"))+"\n\t\t\t\t\t\t")])],1)]),e("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[e("vs-button",{staticClass:"ml-auto mt-2",on:{click:s.save_user_password}},[s._v("Save Changes")]),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:function(t){s.change_password_dialog=!s.change_password_dialog}}},[s._v("Close")])],1)])],1)]),e("vs-popup",{staticClass:"vs-con-loading__container client_add_dialog",attrs:{title:"Add Client",active:s.client_add_dialog,"buttons-hidden":!0},on:{"update:active":function(t){s.client_add_dialog=t}}})],1)},r=[],i=e("b012"),o=e("4a7a"),n=e.n(o),l={name:"AllUsersList",data:function(){return{user_form_title:"Create Consultant",user_create_dialog:!1,change_password_dialog:!1,client_add_dialog:!1,editActive:!1,edit:null,editProp:{},checkBox1:!1,selected_user_index:-1,user:{},old_user:{},users:[],user_roles:[],user_pass:{},roles_arr:i["a"].get_user_roles(),status_arr:i["a"].get_user_status()}},components:{"v-select":n.a},methods:{get_status_label:function(s){return void 0!==this.status_arr[s]?this.status_arr[s]:"N/A"},get_role_label:function(s){return void 0!==this.roles_arr[s]?this.roles_arr[s]:"N/A"},reset_user:function(){this.user=Object.assign({},this.old_user),this.$validator.reset()},create_user:function(){this.old_user=Object.assign({},i["a"].user),this.user=Object.assign({},i["a"].user),this.user_create_dialog=!0,this.user_form_title="Create New Consultant",this.reset_user()},edit_user:function(s,t){this.user=s,this.selected_user_index=t,this.user_create_dialog=!0,this.user_form_title="Edit Consultant",this.old_user=Object.assign({},s)},close_edit_user_dialog:function(){this.selected_user_index>=0&&this.users.splice(this.selected_user_index,1,this.old_user)},change_password:function(s){this.user_pass=Object.assign({},i["a"].user_pass),this.user_pass.id=s,this.change_password_dialog=!0},add_client:function(s,t){this.user=s,this.selected_user_index=t,this.client_add_dialog=!0,this.old_user=Object.assign({},s)},save_user:function(){try{var s=this;this.$validator.validateAll("user_form").then((function(t){t&&(s.$vs.loading(),-1===s.user.id?i["a"].create_user(s.user).then((function(t){var e=t.data;e&&void 0!==e&&(e.success?(s.users.push(e.data),s.user_create_dialog=!1):s.$vs.notify({title:"Error Creating User",text:e.data.info,color:"warning",timing:4e3})),s.$vs.loading.close()})).catch((function(t){s.$vs.loading.close(),s.$vs.notify({title:"Error Creating User",text:"Invalid data",color:"warning",timing:4e3})})):s.user.id>0&&i["a"].update_user(s.user.id,s.user).then((function(t){var e=t.data;e&&void 0!==e&&(e.success?(s.users[s.selected_user_index]&&s.users.splice(s.selected_user_index,1,e.data),s.user_create_dialog=!1):s.$vs.notify({title:"Error Updating User",text:"Invalid data",color:"warning",timing:4e3})),s.$vs.loading.close()})).catch((function(t){s.$vs.loading.close(),s.$vs.notify({title:"Error Updating User",text:"Invalid data",color:"warning",timing:4e3})})))}))}catch(t){console.log("error during form submission")}},save_user_password:function(){try{var s=this;this.$validator.validateAll("change_pass_form").then((function(t){t&&(s.$vs.loading(),i["a"].change_password(s.user_pass.id,s.user_pass).then((function(t){var e=t.data;e&&void 0!==e&&(e.success?(s.$vs.notify({title:"Password changed",text:"Password changed successfully",color:"success",timing:4e3}),s.change_password_dialog=!1):s.$vs.notify({title:"Error Creating User",text:"Invalid data",color:"warning",timing:4e3})),s.$vs.loading.close()})).catch((function(t){s.$vs.loading.close(),s.$vs.notify({title:"Error Creating User",text:"Invalid data",color:"warning",timing:4e3})}))),console.log("no error")}))}catch(t){console.log("error during form submission")}},get_users:function(){var s=this;this.$vs.loading(),i["a"].get_users().then((function(t){var e=t.data;e&&void 0!==e&&(e.success?s.users=e.data||[]:s.$vs.notify({title:"Failed to get list of Users",text:"Failed",color:"warning",timing:4e3})),s.$vs.loading.close()})).catch((function(t){s.$vs.loading.close(),s.$vs.notify({title:"Error while loading list of users",text:"Failed.",color:"warning",timing:4e3})}))}},created:function(){this.user=Object.assign({},i["a"].user),this.user_roles=i["a"].user_roles,this.get_users()}},d=l,c=(e("b1f3"),e("2877")),u=Object(c["a"])(d,a,r,!1,null,"dc816fda",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-94ac5210.1d6090e4.js.map